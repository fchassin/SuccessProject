\documentclass[a4paper,10pt]{article}
\usepackage{multirow}
\usepackage{float}
\usepackage[utf8]{inputenc}  
\usepackage[T1]{fontenc}



%Debut du document
\renewcommand{\contentsname}{Table des matières}
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%
% PAGE DE GARDE  & TOC %
%%%%%%%%%%%%%%%%%%%%%%%%

\begin{center}
\hfill
\end{center}
\vspace{3cm}
\begin{center}
{\huge \textbf{Rapport de spécifications}} \\
\vspace{\baselineskip}
{\LARGE \textsc{Projet ?} \\
\textit{Vers la route du succès}  \\
\vspace{\baselineskip}
2015-2016}
\vfill
{\large
Frank \textsc{Chassing} \& Luc \textsc{Schmitt}}
\vfill
\end{center}
\thispagestyle{empty}

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{3}
\makeatletter

% page vide
\newpage \thispagestyle{empty}
\null

\newpage
\tableofcontents
\newpage

%%%%%%%%%%%%%%%%%%%%%%%
% DEBUT ECRITURE     %
%%%%%%%%%%%%%%%%%%%%%%

\section*{Introduction \markboth{INTRODUCTION}{}}
\addcontentsline{toc}{section}{Introduction}
\#useless

\section{Contexte}
L'idée de ce projet est née par l'envie de vouloir tout faire dans sa vie. En effet, de nombreuses personnes ressentent cette envie de vouloir réaliser le plus de choses possibles dans sa vie et veulent ainsi profiter pleinement de celle-ci. Nous avons donc penser dans un premier temps à créer une liste importante de succès humains que les utilisateurs réaliseraient pour débloquer des récompenses. Cependant, notre idée ne s'arrête pas là : en plus de pouvoir réaliser ces succès, les utilisateurs pourront partager leurs vidéos, donner leurs avis sur des vidéos d'autres utilisateurs, et participer à l'évolution de l'application. Nous pouvons parler d'une sorte de plateforme sociale de vidéos où l'utilisateur devra se surpasser pour améliorer de façon importante son profil.
L'application serait destinée aux personnes de 16 à 35 ans.

\section{Objectifs}
Notre objectif est de réaliser une application multiplateforme, à la fois disponible sur ordinateurs, tablettes et smartphones. Nous souhaitons avant tout que l'application soit fonctionnelle et intuitive afin d'accueillir un plus grand nombre d'utilisateurs. Nous aimerions mettre en place un système communautaire afin de faire évoluer notre application suivant les différents avis et idées des utilisateurs. Une base solide de succès devra être mise en place pour rendre attractive notre application. Nous devons également prévoir les différents coûts et réfléchir à comment les prendre en charge. ~\

D'un point de vue utilisateur,  l'objectif sera pour lui de réaliser des challenges personnels et de prouver qu'il est capable de réaliser l'ensemble des succès. Ainsi, l'utilisateur sera amener à se surpasser et à essayer de nouvelles choses. Le réseau social apportera un esprit de compétition mais également éveillera la curiosité d'autres utilisateurs. La plateforme de vidéos et d'images sera un moyen de découvrir et de regarder des challenges réalisés par d'autres utilisateurs.

\section{Fonctionnalités}

\subsection{Côté utilisateur}

\subsubsection{Plateforme sociale}

\paragraph{Profil}~\

Chaque utilisateur possèdera un profil présentant différentes données : Pseudo, avatar, nom, prénom, date de naissance, pays, région, ville, date d'inscription. Ces données pourront être seulement consulter et modifier par l'utilisateur.

\paragraph{Système d'amis}~\

Nous souhaitons mettre en place un système d'amitié permettant de retrouver plus facilement ses amis afin de voir leurs vidéos ou bien pour les défier sur un challenge. Le système consisterait à posséder des chaînes amies. Ce système d'amitié pourra être mis en place dans un premier temps via Facebook, puis il sera possible d'ajouter une chaîne amie directement depuis notre application. 

\paragraph{Fil d'actualités}~\

La page d'accueil comportera une sorte de fil d'actualités de vidéos ou d'images présentant les vidéos ou images les plus regardées par exemple. Nous souhaiterions également que chaque chaîne possède un fil d'actualités permettant ainsi aux autres utilisateurs de publier des messages, de partager une vidéo ou une image, ou même de défier la chaîne.

\paragraph{Notifications}~\

Des notifications devront être mises en place pour avertir l'utilisateur d'une publication, d'un partage de vidéos ou bien d'un nouveau commentaire sur une de ses vidéos.

\paragraph{Paramètres}~\

Une zone de paramètre sera présente et assurera notamment la gestion de la confidentialité.

\subsubsection{Choix et réalisation des succès}

\paragraph{Choix des succès}~\

Afin de choisir un succès, l'utilisateur possèdera deux moyens pour atteindre un succès voulu :
\begin{itemize}
\item Parcourir les succès via la zone recensant l'ensemble des succès et choisir celui désiré ;
\item Effectuer une recherche de succès via une barre de recherche avec plusieurs critères (catégories, nom, titre, ornement, difficulté).
\end{itemize}

\paragraph{Réalisation}~\

Après avoir choisi son succès, l'utilisateur devra téléchargé une vidéo ou une image justifiant la réussite de son succès ou bien filmer directement une vidéo. Puis l'utilisateur envoie sa justification en validation.\\
A noter qu'il sera également possible de filmer puis par la suite de classer sa vidéo et de l'envoyer en validation.

\subsubsection{Validation des succès}

\paragraph{Confirmation}~\

Pour être validée, une vidéo devra recevoir un certain nombre de vote positif de la part de la communauté. La page de validation génèrera une vidéo ou une image aléatoire puis après visionnage de celle-ci, les utilisateurs devront juger si la vidéo valide le succès ou non. Ils pourront également signaler la vidéo pour contenu abusif et dans ce cas là, la vidéo devra être modérée. Au bout d'un certain nombre significatif de votes, la vidéo sera soit mise en ligne et le succès sera validé, soit elle sera supprimée et la succès devra être à refaire.
A noter que les vidéos pourront apparaître de façon anonyme ou non.

\paragraph{Système de protection}~\

Certaines mesures devront être prises afin qu'une vidéo ne soit pas validable par une chaîne ami et que les utilisateurs ne valident pas une vidéo sans l'avoir vue.

\subsubsection{Partage et visionnage des médias}

\paragraph{Partage}~\

Chaque vidéo et image possèdera un bouton partage qui permettra de choisir une chaîne sur laquelle poster la vidéo partagée. La vidéo sera ensuite affichée sur le fil d'actualité de la chaîne. 

\paragraph{Visionnage}~\

Pour regarder une vidéo il suffit de cliquer sur le lien de la vidéo ou bien d'effectuer une recherche via la barre de recherche de vidéo. La page de visionnage sera composée d'un lecteur permettant le visionnage de la vidéo, du succès associé, du nombre de vues, d'un système de notation, de commentaires, et de vidéos associées (même genre ou même auteur).
En ce qui concerne les commentaires, il sera possible de rédiger, de modifier, de répondre ou bien de supprimer. Nous souhaiterions ajouter un système de notation des commentaires tel que le sytème de Reddit.

\subsubsection{Ornements et titres}

La réussite d'un ensemble de succès mènera à l'acquisition d'ornements ou de titres. Un ornement est considéré comme un skin de chaîne (distinction graphique). Un titre est une phrase permettant de donner un certain statut à la chaîne. Chaque chaîne sera alors doté d'un ornement et d'un titre que l'utilisateur peut choisir selon ceux acquis. Chaque chaîne aura également une liste des ornements et titres obtenus et aura également un historique des succès accomplis. Le rôle des ornements et des titres est de mettre en valeur sa chaîne et montrer son dévouement quant à la réalisation des succès.

\subsubsection{Inscription / Connexion}

\begin{itemize}
\item Inscription : formulaire possédant certains critères tels que le pseudo, mot de passe, email, date de naissance, captcha, conditions générales et la validation de l'email et du mot de passe. Il y aura également une validation de l'inscription via le lien d'un mail reçu.
\item Connexion : Formulaire interne à la page d'accueil possédant deux champs (Pseudo/Email et Mot de passe). Par ailleurs, il y aura une section "mot de passe oublié".
\item Mot de passe oublié : possibilité de récupérer son mot de passe via son mail ou son pseudo. Ainsi un nouveau mot de passe sera envoyer par mail. En cas de problème, consulter le support.

\subsubsection{Participation communautaire}

La participation communautaire se fera via les commentaires, les likes, la validation des vidéos et images, la proposition de succès et une zone de boîte à idée. Ces différents éléments permettront l'évolution de l'application. 

\subsubsection{Classement}

Différents classement seront affichés sur une sorte de ladder : Classement par points de succès, par nombre de vues, par catégorie, etc.

\end{itemize}

\subsection{Côté développeur}

Différents points devront être gérés par les administrateurs :
\begin{itemize}
\item Modération des vidéos à contenu inaproprié (vulgaire, raciste, homophobe, pornographique, violent, etc.)
\item Support (FAQ, forum, ...)
\item Modération communautaire (Système Reddit)
\item Rapport de bugs
\end{itemize}

\section{Spécifications techniques}
\subsection{Plateformes}
Nous aimerions avant tout que notre application web soit adaptée à tous les navigateurs et soit responsive. Ainsi à défaut de vouloir télécharger les applications mobiles, un utilisateur pourra utiliser l'application via son navigateur mobile. Nous espérons notamment développer une application iOS ainsi qu'une application Android.

\subsection{Architecture du site web}

\subsubsection{Header}

Chaque page possèdera un header contenant un récapitulatif de l'utilisateur connecté ou bien s'il n'est pas connecté, nous retrouverons un accès à un formulaire pour s'inscrire ou se connecter. Il faut également faire savoir pourquoi il est intéressant aux visiteurs de s'inscrire. Dans le header nous aurons également une barre de recherche de vidéos, images ou bien succès. Le logo de l'application sera bien évidemment apparant dans ce header.~\

\subsubsection{Page d'accueil}

La page d'accueil recensera des listes de succès (les plus accomplis ou autres), des vidéos à la une (populaires, ayant le plus de vues, par catégorie, etc.). Si un utilisateur est connecté, il aura également un accès direct aux chaînes auxquelles il s'est abonné et à ses chaînes amies.

\subsubsection{Page d'inscription}

La page d'inscription sera composé d'un formulaire ayant les champs suivants : Pseudo, Email, confirmation Email, Mot de passe, confirmation Mot de passe, date de naissance, captcha, conditions générales.

\subsubsection{Page de connexion}

une zone de connexion sera interne à toutes les pages et possèdera un formulaire ayant les champs suivants : Pseudo/Mail, Mot de passe, Mot de passe oublié.

\subsubsection{Page de paramètres}

La page de paramètres répertoriera les données personnelles de l'utilisateur. Celui-ci pourra modifier ces différentes données via cette page. L'utilisateur aura également un accès aux paramètres de l'application.

\subsubsection{Page d'une chaîne}

Nous retrouverons plusieurs onglets : 
\begin{itemize}
\item Un onglet détaillant le fil d'actualités de la chaîne ;
\item Un onglet montrant l'ensemble des vidéos récemment postées de la chaîne ;
\item Un historique des succès réalisés, des ornements et titres obtenus.
\item Des statistiques des succès réalisés
\item La possibilité de partager la chaîne ou de l'ajouter comme chaîne amie ou chaîne abonnée.
\end{itemize}

\subsubsection{Page de téléchargement de médias}

La page de téléchargement de média permet d'envoyer une vidéo ou une image pour valider un succès. Elle sera composée d'un moyen d'ajouter une vidéo ou de prendre une vidéo puis de différents champs pour décrire la vidéo. Il y aura également la possibilité de sauvegarder la vidéo en attendant de pouvoir la classer plus tard.

\subsubsection{Page des succès}

La page des succès comportera une liste de succès recommandés et répertoriera toutes les catégories et sous catégories comportant toutes les listes des succès. Nous pourrons également effectuer une recherche de succès via cette page.

\subsubsection{Page de validation}

La page de validation possèdera une vidéo ou une image générée aléatoirement puis également trois différents boutons permettant de valider, de refuser ou de signaler le média. La vidéo possèdera le nom de la chaîne et différentes données suivant la confidentialité choisie.

\subsubsection{Page d'une vidéo}

Pour lire une vidéo, nous aurons une page possédant un lecteur. Les utilisateurs pourront commenter, liker, et voir la vidéo. Nous retrouverons aussi une liste de vidéos associées.

\subsection{Base de données}

L'Architecture et l'organisation de la base de donnée devra suivre un plan rigoureusement décidé et décrit dans ce paragraphe.

Nous allons tenter de respecter au plus proche la 3eme forme de normalisation des Bases de données

\begin{itemize}
\item Toutes les données sont atomiques 
\item Chaque champ contient une valeure scalaire (pas de liste de valeurs, etc)
\item Les valeurs sont non répétitives
\item Chaque attribut n'appartenant pas à la clé doit se trouver dans une table différente (ForeignKey et jointures)
\item Les attribus qui ne dépendent pas de la clé ne dépendent pas d'atribus ne faisant pas non plus partis de la clé (les attribus sont complètement indépendant les uns des autres), Exemple : Le pays ne dépend pas de l'utilisateur mais de la ville ou il habite.
\item Les valeurs sont constantes dans le temps (Seul point complexe pour le nombre de vues, vote, commentaires)
\end{itemize}

Tout en évitant le plus possible les tables obèses, on gardera une cohérence dans l'organisation des données et dans la normalisation.

\subsubsection{Table Users}

\begin{itemize}
\item iduser : Index et PrimaryKey : unsigned int.
\item pseudo : Pseudo de l'utilisateur : text.
\item password : Mot de passe hashé de l'utilisateur : text(sha2(256bit))
\item lastip : dernière ip de connexion : IP(type ip de postgresql)
\end{itemize}

\begin{center}
\begin{tabular}{| c | c | c | c | }
\hline
Colonne & iduser & pseudo & password \\ \hline
Définition & Index, Cléf Primaire & Pseudo de l'utilisateur & Mot de passe\\ \hline
Type & int & text & text(sha2(256bit))\\ \hline
Exemple & 1 & Fchassing & 77de[...]092  \\ \hline
... & ... & ... & ... \\
\end{tabular}
\end{center}

\subsubsection{Table Profils}

\begin{itemize}
\item idprofil : Index PrimaryKey : unsigned int.
\item iduser : id de l'utilisateur associé : unsigned int ForeignKey.
\item email : E-Mail de l'utilisateur : text.
\item birthdate : Date de naissance de l'utilisateur : Date (dd mm yyyy)
\item city : Ville de l'utilisateur : text.
\item successpoints : Nombre de point de succès de l'utilisateur, est recalculé à la connexion de l'utilisateur, la réussite d'un succes (validation), "à la demande de l'utilisateur ?".
\end{itemize}

\begin{center}
\begin{tabular}{| c | c | p{3cm} | c | c |}
\hline
Colonne & idprofil &iduser & city & birthdate \\ \hline
Définition & Index, Cléf Primaire & Cléf \'Etrangère Lié à la table Users & Ville & date de naissance\\ \hline
Type & int & int & text & date\\ \hline
Exemple & 1 & 1 & rennes & 03 07 1993  \\ \hline
... & ... & ... & ... & ... \\
\end{tabular}
\end{center}


\begin{center}
\begin{tabular}{| c | c | c | c | }
\hline
-> & email & successpoints & nbsuccessdone\\ \hline
-> & Email de l'utilisateur & Nb dePoint de succes & Nb de succès fait\\ \hline
-> & text & int & int\\ \hline
-> & fchassing@gmail.com & 1029 & 10\\ \hline
... & ... & ... & ... \\
\end{tabular}
\end{center}

\subsubsection{Table Medias}

\begin{itemize}
\item idmedia : Index, PrimaryKey : unsigned int
\item idtype : Type de media : unsigned int ForeignKey. (Table MediaTypes)
\item path : Lien vers le media (nom d'enregistrement sur le DD) : text.
\item autorid : Auteur de la video : ForeignKey (Table Users)
\item title : Titre de la video : text.
\item description : description de la video : text.
\item successid : ID du succès associé : unsigned int ForeignKey(Table SuccessList)
\end{itemize}

\begin{table}[h]
\centering
\begin{tabular}{|c|c|c|c|c|c|}
\hline
Colonne    & idmedia   & idtype            & path               & autorid  & description             \\ \hline
Définition & Index, PK & Type de video, FK & Lien vers la video & Auteur FK & Description de la video \\ \hline
Type       & int       & int               & text               & int       & text                    \\ \hline
...        & ...       & ...               & ...                & ...       & ...                    
\end{tabular}
\end{table}

\begin{table}[h]
\centering
\begin{tabular}{|c|c|c|c|}
\hline
-\textgreater & title             & viewnb         & successid             \\ \hline
-\textgreater & Titre de la video & Nombre de vues & Id du succès associer, FK \\ \hline
-\textgreater & text              & unsigned int   & unsigned int          \\ \hline
...           & ...               & ...            & ...                  
\end{tabular}
\end{table}

\subsubsection{Table SuccessList}

\begin{itemize}
\item successid : Index, PrimaryKey : unsigned int.
\item title : Titre du succès : text.
\item description : Description du succès : text.
\item videoexempleid : Id de la video d'exemple : unsigned int ForeignKey (Table Media).
\item pointsvalue : nombre de point donnés à la réussite du succès : int.
\item categoryid : catégorie du succès : unsigned int, ForeignKey.
\end{itemize}

\begin{table}[h]
\centering
\begin{tabular}{|c|c|c|c|c|c|}
\hline
Colonne     & successid & title           & description           & videoexemple & pointsvalue   \\ \hline
Description & Index, PK & titre du succès & description du succes & Id Video, FK & pts donné \\ \hline
Type        & int       & text            & text                  & unsigned int & int       \\ \hline
...         & ...       & ...             & ...                   & ...          & ...      
\end{tabular}
\end{table}

\subsubsection{Table SuccessDone}

\begin{itemize}
\item successdoneid : index, Primary Key
\item stateid : id de l'état du succès : unsigned int : ForeignKey 
\item date : Date de réussite du succès : DATE.
\item autorid : Id de l'utilisateur qui a réussi le succès : unsigned int ; ForeignKey
\item successid : Id du succès associé : unsigned int ; ForeignKey
\item mediaid : Id du Média associé au succès ; unsigned int : ForeignKey
\end{itemize}

\subsubsection{Table Comments}

\begin{itemize}
\item commentid : Index, PrimaryKey : unsigned int.
\item date : date du poste du commentaire : DATE.
\item content : Contenus du commentaire : text.
\item rating : Système de vote reddit (classement en fonction du nombre de votes positif si total négatif on ne l'affiche pas et il est signaler aux modérateurs) : int2.
\item ...
\end{itemize}

\subsubsection{Table Categories}

\begin{itemize}
\item idcategory : Index, PrimaryKey : unsigned int.
\item title : titre de la cartégorie : text.
\item description : description rapide de la catégorie : text.
\end{itemize}

\subsubsection{Autres Tables}

\begin{itemize}
\item Table MediaType
\begin{itemize}
\item typeid : index, PrimaryKey : unsigned int.
\item type : type de media(photo or video ~2lignes) : text.
\end{itemize}
\item Table SuccessState
\begin{itemize}
\item successstateid : Index, PrimaryKey
\item state : Etat du succès (accepté, en attente de validation, signalé, supprimé) : text.
\end{itemize}
\end{itemize}

\subsection{Hébergement}
\subsection{Sécurité}
\subsection{Solution de financement}
\subsection{Langages}
\subsection{Etc}
\section{Spécifications administratives}
\subsection{Coûts}
\subsection{Conditions / Clauses}
\subsection{Propriété}
\subsection{Etc}
\section{Planification}


\section*{Conclusion \markboth{Conclusion}{}}
\addcontentsline{toc}{section}{Conclusion}

\end{document}
